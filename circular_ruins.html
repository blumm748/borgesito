<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="global.css">
    <link rel="stylesheet" href="https://use.typekit.net/vdr5qit.css">
</head>
<body>

<div class="container" id="dark">
       <div class="gradient"></div>
       
      <!-- nav -->
      <nav id="dark">
        <div class="nav-logo">
          <div class="nav-link">
            <a href="index.html">Borges</a>
          </div>
        </div>
          <div class="nav-link">
            <a href="stories.html">Stories</a>
          </div>
          <div class="nav-link">
            <a href="about.html">About</a>
          </div>
      </nav>
    <section class="textbox"> 
    <div class="textbox-col"> 
    <h4 class="reveal-heading">The Circular Ruins</h4>
        <p class="textbox-col-reveal"> No one saw him disembark in the unanimous night, 
            no one saw the bamboo canoe sink into the sacred mud, but in a 
            few days there was no one who did not know that the taciturn man 
            came from the South and that his home had been one of those 
            numberless villages upstream in the deeply cleft side of the 
            mountain, where the Zend language has not been contaminated by 
            Greek and where leprosy is infrequent. What is certain is that 
            the grey man kissed the mud, climbed up the bank with pushing 
            aside (probably, without feeling) the blades which were lacerating 
            his flesh, and crawled, nauseated and bloodstained, up to the 
            circular enclosure crowned with a stone tiger or horse, which 
            sometimes was the color of flame and now was that of ashes. 
            This circle was a temple which had been devoured by ancient fires, 
            profaned by the miasmal jungle, and whose god no longer received 
            the homage of men. The stranger stretched himself out beneath the 
            pedestal. He was awakened by the sun high overhead. He was not 
            astonished to find that his wounds had healed; he closed his 
            pallid eyes and slept, not through weakness of flesh but through 
            determination of will. He knew that this temple was the place 
            required for his invincible intent; he knew that the incessant 
            trees had not succeeded in strangling the ruins of another propitious 
            temple downstream which had once belonged to gods now burned and dead; 
            he knew that his immediate obligation was to dream. 
            Toward midnight he was awakened by the inconsolable shriek of a bird. 
            Tracks of bare feet, some figs and a jug warned him that the men of the 
            region had been spying respectfully on his sleep, soliciting his 
            protection or afraid of his magic. He felt a chill of fear, and sought 
            out a sepulchral niche in the dilapidated wall where he concealed himself 
            among unfamiliar leaves.
        </p>
    </div>
    </section>
<script>
    let textElement = document.querySelector('.textbox-col-reveal');
    let textContent = textElement.textContent;
    textElement.innerHTML = '';

    for (let char of textContent){
        let span =  document.createElement('span');
        span.textContent = char;
        textElement.appendChild(span);
    }

    let spans = document.querySelectorAll('span');

    //mobile adjust
    let speed = window.innerWidth < 500 ? 0.3 : 1;

    window.addEventListener('scroll', () => {
        let scrollDistance = window.scrollY;
        spans.forEach((span,index) => {
            if (scrollDistance >= (index + 1) * speed){
                span.classList.add('active');
            } else {
                span.classList.remove('active');
            }
        })
    });

    window.addEventListener('load', () => {
        const heading = document.querySelector('.reveal-heading');
        if (!heading) return;

        setTimeout(() => {
            heading.classList.add('is-hidden');
        }, 5000);
    });
</script>

</div>
</body>
</html>