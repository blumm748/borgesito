<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Circular Ruins</title>
    <link rel="stylesheet" type="text/css" href="../css/global.css">
    <link rel="stylesheet" href="https://use.typekit.net/vdr5qit.css">
</head>
<body>

<div class="container" id="dark">
       <div class="gradient"></div>
       
      <!-- nav -->
      <nav id="dark">
        <div class="nav-logo">
          <div class="nav-link">
            <a href="../index.html">Borges</a>
          </div>
        </div>
          <div class="nav-link">
            <a href="../stories/stories.html">Stories</a>
          </div>
          <div class="nav-link">
            <a href="../stories/stories.html">About</a>
          </div>
      </nav>

    <div class="scroll-image"></div>


    <section class="textbox"> 
    <div class="textbox-col"> 
    <h4 class="reveal-heading">The Circular Ruins</h4>
        <p class="textbox-col-reveal"> He knew that this temple was the place 
            required for his invincible intent; he knew that the incessant 
            trees had not succeeded in strangling the ruins of another propitious 
            temple downstream which had once belonged to gods now burned and dead; 
            he knew that his immediate obligation was to dream. 
            Toward midnight he was awakened by the inconsolable shriek of a bird. 
            Tracks of bare feet, some figs and a jug warned him that the men of the 
            region had been spying respectfully on his sleep, soliciting his 
            protection or afraid of his magic. He felt a chill of fear, and sought 
            out a sepulchral niche in the dilapidated wall where he concealed himself 
            among unfamiliar leaves.
        </p>
    </div>
    </section>
<script>
    let textElement = document.querySelector('.textbox-col-reveal');
    let textContent = textElement.textContent;
    textElement.innerHTML = '';

    for (let char of textContent){
        let span =  document.createElement('span');
        span.textContent = char;
        textElement.appendChild(span);
    }

    let spans = document.querySelectorAll('span');

    //mobile adjust
    let speed = window.innerWidth < 500 ? 0.3 : 1;

    window.addEventListener('scroll', () => {
        let scrollDistance = window.scrollY;
        spans.forEach((span,index) => {
            if (scrollDistance >= (index + 1) * speed){
                span.classList.add('active');
            } else {
                span.classList.remove('active');
            }
        })
    });

    window.addEventListener('load', () => {
        const heading = document.querySelector('.reveal-heading');
        if (!heading) return;

        setTimeout(() => {
            heading.classList.add('is-hidden');
        }, 5000);
    });
    
</script>

<script>
  window.addEventListener('scroll', () => {
    document.body.classList.add('scrolled');
  });
</script>


</div>

 <!-- footer -->
      <footer id="light">

        <div class="footer-col">
        <a href="/circular-ruins/circular_ruins_page-1.html">
          <p>Previous Page</p>
        </a>
        </div>       

        <div class="footer-col">\
        <a href="/circular-ruins/circular_ruins_page-2.html">
          <p>Next Page</p>
        </a>
        </div>
      </footer>

</body>
</html>